# Note / Thoughts

## Collection

I did not implement a "Collection" class since the repositories already function as a collection and it would only result in duplicated code.

## Import

At the moment the import via controller and command share some logic. An idea would be to create a service (including validations) to use in both cases.

## Returned units

> consider giving option to decide which units are returned (kilograms/grams)

My idea was to add a custom normalizer and give the quantity its own type. In the controller it would be then something like

```php
  return $this->json($food, 200, [], ['in_kg' => 'true' === $request->query->get('in_kg')]);
```

## Search

> how to implement `search()` method collections

If it would be necessary to search for both (fruits and vegetables) at the same time this would be a good reason to think about a single table instead of two. This would not only remove duplicate code, but also make the search for both at the same time easier and more performant.

## SQL injection

It would be important to be checked if SQL injection is possible when searching for the name.

## IDs

At the moment the given IDs (e.g. in the JSON) are ignored and auto-generated by the DB. If the ID is important we need to consider the ID and handle the case of an already existing ID.

## Controller spec

In the controller specs we should not test Doctrine and mock DB connection to have a real unit test. With the used dependency injection this should be possible.

## API documentation

If this would ne porduction code we would need to add documentation (e.g. Swagger).
